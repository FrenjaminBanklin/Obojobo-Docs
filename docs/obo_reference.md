---
id: obo_reference
title: OboNode Reference
sidebar_label: OboNode Reference
---

This section defines the current list of nodes and their expected **content** values, expected **children** nodes, **triggers** that they respond to and any **variables** they expose. Unless specified all content values are optional.

## Note on id values in examples:

`id`s are required in the JSON format. In cases where the id is not referenced in the examples below they are simply coded as

```json
id: "..."
```

This simply indicates that an `id` should be specified but the specific value of that `id` is not important (it's included for completeness). Since `id`s are not required in the XML format these non-referenced ids are not included in the XML.

## ObojoboDraft.Modules.Module

This **MUST** be the root OboNode of every Obojobo Draft Document.

### Content Values

* `start`: String: If set this is the id of where the user will be navigated to when the document is loaded. If no value is specified the user will start at the first page of the first section.
* `title` **REQUIRED**: String: The title of the module.

### Children

* Expects one or more of **ObojoboDraft.Sections.Content** or **ObojoboDraft.Sections.Assessment**

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Modules.Module",
  "id": "...",
  "content": {
    "start": "page-1",
    "title": "My Module"
  },
  "children": [...]
}
```

XML:

```xml
<Module start="page-1" title="My Module">
  <!-- ... -->
</Module>
```

--

## ObojoboDraft.Sections.Content

The content section is contains one or more pages of material.

### Content Values

* Node

### Children

* Expects one or more of **ObojoboDraft.Pages.Page**

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Sections.Content",
  "id": "...",
  "children": [...]
}
```

XML:

```xml
<Content>
  <!-- ... -->
</Content>
```

--

## ObojoboDraft.Sections.Assessment

The Assessment contains one or more questions. Students start the Assessment then answer a series of questions, generated by the settings and relationship of one or more QuestionBanks. When finished they submit the Assessment and are given an Assessment Score as well as told their Highest Assessment Score. Students can attempt the Assessment multiple times depending on the Assessment options.

### Content Values

* `scoreActions` **REQUIRED**: <Array>ScoreAction: This defines one or more landing pages after the student submits their assessment attempt. Students can be sent to different pages based on their highest Assessment Score.
* `attempts`: Integer or `"unlimited"` (Default: `"unlimited"`): The number of attempts allowed for this assessment. There is no limit if set to `"unlimited"`.
* `review`: String (Default: `"never"`): Specifies if a full Assessment Review should be shown after an Assessment Attempt Quiz. One of `"never"`, `"always"` or `"no-attempts-remaining"`. Description of each setting:
  * `"never"`: After each Assessment Attempt Quiz students only see which questions they got correct or incorrect. Students never see their responses or the correct and incorrect answers.
  * `"always"`: After each Assessment Attempt Quiz students can see their responses and the incorrect and correct answers.
  * `"no-attempts-remaining"`: If any attempts remain then review acts equivalent to `"never"`. If no attempts remain then review acts equivalent to `"always"`. This means that students only see their responses and correct and incorrect answers once they have no attempts left.
* `rubric`: Rubric: Rules that specify how an Assessment Score is calculated from an Attempt Score (See **Assessment Rubric** below)

#### ScoreAction

A ScoreAction object contains two properties: **for** and **page**:

* `for` **REQUIRED**: Range or Integer or `'no-score'`: A range of score values or a single score.
* `page` **REQUIRED**: Obojobo.Pages.Page: The page to display when a student's highest Assessment Score is matched by the range specified by `for`.

An example of the structure is shown below:

```json
{
  "type": "ObojoboDraft.Sections.Assessment",
  "content": {
    "scoreActions": [
      {
        "for": "[0,100)",
        "page": {
          "type": "ObojoboDraft.Pages.Page",
          "id": "...",
          "children": [ ... ]
        }
      },
      {
        "for": "100",
        "page": {
          "type": "ObojoboDraft.Pages.Page",
          "id": "...",
          "children": [ ... ]
        }
      }
    ]
  }
  ...
}
```

And in XML:

```xml
<scoreActions>
  <scoreAction for="[0,100)">
    <Page>
      <!-- Page content here -->
    </Page>
  </scoreAction>
  <scoreAction for="100">
    <Page>
      <!-- Page content here -->
    </Page>
  </scoreAction>
</scoreActions>
```

In this example students who receive a 100% are shown a successful landing page - all other scores direct students to a failing landing page. Define a single ScoreAction with a `for` attribute of `'[0-100]'` if you do not wish to direct students to different pages dependent on their attempt scores.

##### Legacy properties (Deprecated):

The `from` and `to` properties have been replaced by the `for` property.

* `from`: Integer: The start of the score range
* `to`: Integer: The end of the score range

You must either specify `for` or specify both `from` and `to`. `from` and `to` are deprecated and may be removed in a future release.

#### AssessmentRubric

##### Properties:

* `type`: String **REQUIRED**: Must be `'pass-fail'` (future versions may introduce additional rubrics).
* `mods`: Array\<Mod>: A list of Mods which provide extra credit or penalties.
* `passingAttemptScore`: Integer 0-100 (Default: `100`): The Assessment Attempt score required to be rewarded a `'passed'` status.
* `passedResult`: Integer 0-100 or `'$attempt_score'` (Default: `100`): The base Assessment Score if rewarded a `'passed'` status. If `'$attempt_score'` is specified this Assessment Attempt score will be used for this value.
* `failedResult`: Integer 0-100 or `'$attempt_score'` or `'no-score'` (Default: `0`): The base Assessment Score if rewarded a `'failed'` status.
* `unableToPassResult`: Integer 0-100 or `'no-score'` or `'$highest_attempt_score'` (Default: Not set): The base Assessment Score if rewarded an `unableToPass` status. If `'$highest_attempt_score'` is specified then the highest Assessment Attempt score will be used for this value. If this value is not set then the `unableToPass` status will not be rewarded and this result will not be triggered.

##### Mod

###### Properties:

* `attemptCondition`: AttemptRange or Integer or `'$last_attempt'`: Specifies for which attempt numbers this mod will be applied towards. `'$last_attempt'` is a variable that will be replaced with the value of the `attempts` property of the ObojoboDraft.Sections.Assessment OboNode.
* `reward`: Integer **REQUIRED**: The reward amount. Positive values are extra credit and negative values or penalties.

A future release may specify additional potential conditions such as a condition based on date/time (`timeCondition`).

Mods can specify, for example, that a student who passes on their first attempt can be awarded 5 additional points. Mods are only rewarded if the `'passed'` status is achieved.

Mods should most likely be kept to one or two at most. In a planned future release mod rules will be specified to the student through an automatically generated table and several mods will be difficult for a student to read clearly. There is a limit of **20** mod rules allowed (any additional mods after the 20th mod will be ignored).

#### Range

A string that specifies a range. Possible syntax examples:

* `"[1,3]"`: Square brackets are **inclusive**. This matches `1`, `2` and `3`.
* `"(1,3]"`: Parentheses are **exclusive**. This matches `2` and `3`.
* `"[1,3)"`: This matches `1` and `2`
* `"(1,3)"`: This matches `2` (This is functionally equivalent to `'2'`)

Full syntax: `('(' | '[') + Number + ',' + Number + (')' | ']')`

#### AttemptRange

Same as Range above except the second value can be `'$last_attempt'`. Examples:

* `"[1,$last_attempt)"`: This matches `1`, `2` and so on up until the attempt before the last available attempt.
* `"[1,$last_attempt]"`: This matches `1`, `2` and so on up until the last available attempt.

Full syntax: `('(' | '[') + Number + ',' + (Number | '$last_attempt') + (')' | ']')`

### Children

Assessment expects exactly two children in order:

1.  **ObojoboDraft.Pages.Page**: The initial page shown when a student first navigates to the assessment. This page should contain a ObojoboDraft.Chunks.ActionButton to start the assessment.
2.  **ObojoboDraft.Chunks.QuestionBank**: A question bank that contains all the possible questions contained in the Assessment.

### Variables

* `{{assessment:attemptsRemaining}}` - The number of attempts remaining or `"unlimited"` if no attempt limit is set.
* `{{assessment:attemptsAmount}}` - The total number of attempts or `"unlimited"` if no attempt limit is set.

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Sections.Assessment",
  "id": "assessment",
  "content": {
    "attempts": 3,
    "review": "always",
    "rubric": {
      "type": "attempt",
      "mods": [
        { "attemptCondition": "1", "reward": "5" }
      ]
    },
    "scoreActions": [
      {
        "for": "[0,100)",
        "page": {
          "type": "ObojoboDraft.Pages.Page",
          "id": "...",
          "children": [ ... ]
        }
      },
      {
        "for": "100",
        "page": {
          "type": "ObojoboDraft.Pages.Page",
          "id": "...",
          "children": [ ... ]
        }
      }
    ]
  },
  "children": [
    {
      "type": "ObojoboDraft.Pages.Page",
      "id": "...",
      ...
      "children": [
        {
          "type": "ObojoboDraft.Chunks.Text",
          "id": "...",
          "content": {
            "textGroup": [
              {
                "text": {
                  "value": "You have {{assessment:attemptsRemaining}} attempts remaining. Click begin below to attempt the assessment. Scoring a 100% will move you to the next module, otherwise you will have a chance to review the content and retake the assessment with different questions."
                }
              }
            ]
          }
        },
        {
          "type": "ObojoboDraft.Chunks.ActionButton",
          "id": "...",
          "content": {
            "label": "Begin",
            "triggers": [
              {
                "type": "onClick",
                "actions": [
                  {
                    "type": "assessment:startAttempt",
                    "value": {
                      "id": "assessment"
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    {
      "type": "ObojoboDraft.Chunks.QuestionBank",
      "id": "...",
      "content": {
        "choose": 3,
        "select": "random"
      },
      "children": [ ... ]
    }
  ]
}
```

XML:

```xml
<Assessment attempts="3" review="always">
  <scoreActions>
    <scoreAction for="[0,100)">
      <Page> <!-- ... --> </Page>
    </scoreAction>
    <scoreAction for="100">
      <Page> <!-- ... --> </Page>
    </scoreAction>
  </scoreActions>
  <Page>
    <p>You have {{assessment:attemptsRemaining}} attempts remaining. Click begin below to attempt the assessment. Scoring a 100% will move you to the next module, otherwise you will have a chance to review the content and retake the assessment with different questions.</p>
    <ActionButton label="Begin">
      <triggers>
        <trigger type="onClick">
          <actions>
            <action type="assessment:startAttempt">
              <value id="assessment">
            </action>
          </actions>
        </trigger>
      </triggers>
    </ActionButton>
  </Page>
  <QuestionBank choose="3" select="random">
    <!-- ... -->
  </QuestionBank>
  <rubric type="pass-fail" passingAttemptScore="80" passingResult="$attempt_score" failingResult="0">
    <mods>
      <mod attemptCondition="1" reward="5" />
    </mods>
  </rubric>
</Assessment>
```

--

## ObojoboDraft.Pages.Page

A generic "page" - they can be thought of as a page in a online article.

### Content Values

* `title`: The title of the page (used in the generated navigation).

### Children

* One or more **ObojoboDraft.Chunks.\*** nodes.

### Variables

* None

### Example

```json
{
  "type": "ObojoboDraft.Pages.Page",
  "id": "...",
  "children": [ ... ]
}
```

```xml
<Page>
  <!-- ... -->
</Page>
```

--

## ObojoboDraft.Chunks.Text

A single block of text similar to a paragraph (`<p>`) tag in HTML.

### Content Values

* `textGroup` **REQUIRED**: TextGroup: The text to render **(Refer to the "TextGroup" section later in this document for the structure of a TextGroup object)**. Expects 1 or more text items.

### Children

* No children

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.Text",
  "id": "...",
  "content": {
    "textGroup": [
      {
        "text": {
          "value": "Hello world!"
        }
      }
    ]
  }
}
```

XML:

```xml
<Text>
  <textGroup>
    <t>Hello world!</t>
  </textGroup>
</Text>
```

OboHTML:

```xml
<p>Hello world!</p>
```

--

## ObojoboDraft.Chunks.List

A bulleted or numeric list similar to `<ul>` or `<li>` elements in HTML.

### Content Values

* `textGroup` **REQUIRED**: TextGroup. Expects 1 or more text items.
* `listStyles`: ListStyles Object: This defines various options on the list - see definition below:

### Children

* No children

### Variables

* None

#### ListStyles

The ListStyles object has two properties: **`type`** and **`indents`**:

* `type`: String (Default: `'unordered'`): MUST be one of the following values:
  * `'unordered'`: Creates an unordered list
  * `'ordered'`: Creates an ordered list
* `indents`: Object: An object where the keys are various indent levels and the corresponding values are objects defining the styling options for items at that indent level which override the default styles. Indent levels are zero-indexed so 0 describes the first indent level, 1 is the second indent level and so on.

The indents object includes **`type`**, **`start`** and **`bulletStyle`**:

* `type`: String: Same as type above.
* `start`: Integer: If `type` is `ordered` then this defines the starting value of the list - for example if set to `3` the list will start at 3, then 4, then 5 (and so on). Will default to `1` if no value is set.
* `bulletStyle`: String: One of the following values:
  * For unordered lists:
    * `'disc'`: Filled circle bullets
    * `'circle'`: Hollow circle bullets
    * `'square'`: Filled square bullets
  * For ordered lists:
    * `'decimal'`: 1., 2., 3., ...
    * `'decimal-leading-zero'`: 01., 02., 03., ..., 10., 11., ...
    * `'lower-alpha'`: a., b., c., ...
    * `'upper-alpha'`: A., B., C., ...
    * `'lower-roman'`: i., ii., iii., ...
    * `'upper-roman'`: I., II., III., ...

For indent levels not defined via the **indents** property the following defaults will apply:

**Unordered lists**:

* Filled circle bullets
  * Hollow circle bullets
    * Filled square bullets
      * (Repeat)

**Ordered lists**:

* Numbers
  * Uppercase letters
    * Uppercase roman numerals
      * Lowercase letters
        * Lowercase roman numerals
          * (Repeat)

An example is shown below:

```json
{
  "listStyles": {
    "type": "ordered",
    "indents": {
      "2": {
        "type": "unordered",
        "bulletStyle": "square"
      },
      "4": {
        "start": 5,
        "bulletStyle": "upper-roman"
      }
    }
  }
}
```

This will produce an ordered list with the following styles:

* Numbers
  * Uppercase letters
    * Square bullets (as defined by the `2` value in `indents`)
      * Lowercase letters
        * Uppercase roman numerals starting at V. (as defined by the `4` value in `indents`)

Here is the same structure in XML:

```xml
<listStyles>
  <type>ordered</type>
  <indents>
    <indent level="2" type="unordered" bulletStyle="square" />
    <indent level="4" type="ordered" start="10" bulletStyle="upper-alpha" />
  </indents>
</listStyles>
```

### Example

JSON (Unordered list):

```json
{
  "type": "ObojoboDraft.Chunks.List",
  "id": "...",
  "content": {
    "textGroup": [
      {
        "text": {
          "value": "List item 1"
        }
      },
      {
        "text": {
          "value": "List item 2"
        },
        "data": {
          "indent": 1
        }
      }
    ]
  }
}
```

XML:

```xml
<List>
  <textGroup>
    <t>List item 1</t>
    <t indent="1">List item 2</t>
  </textGroup>
</List>
```

OboHTML:

```xml
<ul>
  <li>List item 1</li>
  <li indent="1">List item 2</li>
</ul>
```

JSON (Ordered list):

```json
{
  "type": "ObojoboDraft.Chunks.List",
  "id": "...",
  "content": {
    "listStyles": {
      "type": "ordered"
    },
    "textGroup": [
      {
        "text": {
          "value": "List item 1"
        }
      },
      {
        "text": {
          "value": "List item 2"
        },
        "data": {
          "indent": 1
        }
      }
    ]
  }
}
```

XML:

```xml
<List>
  <listStyles>
    <type>ordered</type>
  </listStyles>
  <textGroup>
    <t>List item 1</t>
    <t indent="1">List item 2</t>
  </textGroup>
</List>
```

OboHTML:

```xml
<ol>
  <li>List item 1</li>
  <li indent="1">List item 2</li>
</ol>
```

--

## ObojoboDraft.Chunks.Heading

Creates headings similar to `<H1>` to `<H6>` tags in HTML.

### Content Values

* `textGroup` **REQUIRED**: TextGroup. Expects 1 text item.
* `headingLevel`: Integer (Default: `1`): A value from 1-6 representing the heading level where 1 is the primary heading.

### Children

* No children

### Variables

* None

### Examples

JSON

```json
{
  "type": "ObojoboDraft.Chunks.Heading",
  "id": "...",
  "content": {
    "headingLevel": 1,
    "textGroup": [
      {
        "text": {
          "value": "Heading 1"
        }
      }
    ]
  }
}
```

XML

```xml
<Heading headingLevel="1">
  <textGroup>
    <t>Heading 1</t>
  </textGroup>
</Heading>
```

OboHTML

```xml
<h1>Heading 1</h1>
```

--

## ObojoboDraft.Chunks.Code

This chunk is fundamentally identical to the **ObojoboDraft.Chunks.Text** node except the styling of the rendered output is mono-spaced.

### Content Values

* `textGroup` **REQUIRED**: TextGroup: The text to render **(Refer to the "TextGroup" section later in this document for the structure of a TextGroup object)**. Expects 1 or more text items.

### Children

* No children

### Variables

* None

### Example

JSON

```json
{
  "type": "ObojoboDraft.Chunks.Code",
  "id": "...",
  "content": {
    "textGroup": [
      {
        "text": {
          "value": "let x = 2;"
        }
      },
      {
        "text": {
          "value": "return x * 4;
        }
      }
    ]
  }
}
```

XML

```xml
<Code>
  <textGroup>
    <t>let x = 2;</t>
    <t>return x * 4;</t>
  </textGroup>
</Code>
```

OboHTML:

```xml
<pre>let x = 2;
return x * 4;</pre>
```

--

## ObojoboDraft.Chunks.Break

Inserts a break in the document similar to a `<hr>` tag in HTML.

### Content Values

* None

### Children

* No children

### Variables

* `width`: String (Default: `"normal"`): Must be either `"normal"` or `"large"`. Specifies if width of the break.

### Example

```json
{
  "type": "ObojoboDraft.Chunks.Break",
  "id": "...",
  "content": {
    "width": "large"
  }
}
```

XML

```xml
<Break width="large" />
```

OboHTML:

```xml
<hr />
```

--

## ObojoboDraft.Chunks.ActionButton

Displays a button which can use the `onClick` trigger to perform an action - typically to start assessment or navigate the user elsewhere.

### Content values

* `label`: String: The label for the button - since this is a string it is not possible to style the button. If you wish to style the text use `textGroup` instead. If this property is not specified then you must specify `textGroup`.
* `textGroup`: TextGroup: The text for the button. If this property is not specified then you must specify `label`.
* `triggers` **REQUIRED**: Object: Should contain a trigger for `onClick` - see example below:

### Triggers

* `onClick` - Ran when the button is clicked

### Children

* No children

### Variables

* None

### Example

JSON (Using label):

```json
{
  "type": "ObojoboDraft.Chunks.ActionButton",
  "content": {
    "label": "Start Assessment",
    "triggers": [
      {
        "type": "onClick",
        "actions": [
          {
            "type": "assessment:startAttempt",
            "value": {
              "id": "assessment"
            }
          }
        ]
      }
    ]
  }
}
```

XML:

```xml
<ActionButton label="Begin">
  <triggers>
    <trigger type="onClick">
      <actions>
        <action type="assessment:startAttempt">
          <value id="assessment">
        </action>
      </actions>
    </trigger>
  </triggers>
</ActionButton>
```

JSON (Using textGroup):

```json
{
  "type": "ObojoboDraft.Chunks.ActionButton",
  "content": {
    "textGroup": [
      {
        "text": {
          "value": "Begin"
        }
      }
    ],
    "triggers": [
      {
        "type": "onClick",
        "actions": [
          {
            "type": "assessment:startAttempt",
            "value": {
              "id": "assessment"
            }
          }
        ]
      }
    ]
  }
}
```

XML:

```xml
<ActionButton>
  <textGroup>
    <t>Begin</t>
  </textGroup>
  <triggers>
    <trigger type="onClick">
      <actions>
        <action type="assessment:startAttempt">
          <value id="assessment">
        </action>
      </actions>
    </trigger>
  </triggers>
</ActionButton>
```

--

## ObojoboDraft.Chunks.Figure

An image with an optional image caption shown below.

### Content Values

* `alt` **RECOMMENDED**: String: Sets the alt tag of the image.
* `textGroup`: TextGroup: Used as the caption below the image - expects **only** 1 text item if set.
* `url`: String: The external URL to the image.
* `size`: String (Default: `small`): One of the following values representing the desired size of the image:
  * `small`: A centered small image
  * `medium`: A centered larger image
  * `large`: An image that spans the width of the page
  * `custom`: An image set at native size (image is still restricted by the width of the page)
* `width`: String: If size is set to `custom` then this specifies the width. Has no effect otherwise.
* `height`: String: If size is set to `custom` then this specifies the height. Has no effect otherwise.

Note: Setting either `width` or `height` on a `custom` image will modify the non-specified dimension proportionally. It's not recommended to set both `width` and `height` as this will not respect the natural aspect-ratio of the image.

### Children

* No children

### Variables

* None

### Example

JSON (With caption):

```json
{
  "type": "ObojoboDraft.Chunks.Figure",
  "id": "...",
  "content": {
    "size": "medium",
    "url": "http://lorempixel.com/640/480/city",
    "alt": "Description of the image",
    "textGroup": [
      {
        "text": {
          "value": "Caption here"
        }
      }
    ]
  }
}
```

XML:

```xml
<Figure size="medium" url="http://lorempixel.com/640/480/city" alt="Description of the image">
  <textGroup>
    <t>Caption here</t>
  </textGroup>
</Figure>
```

OboHTML (Tag order is ignored - Captions are always displayed below an image):

```xml
<figure>
  <img src="http://lorempixel.com/640/480/city" size="medium" alt="Description of the image">
  <figcaption>Caption here</figcaption>
</figure>
```

JSON (No caption):

```json
{
  "type": "ObojoboDraft.Chunks.Figure",
  "id": "...",
  "content": {
    "size": "custom",
    "width": "500",
    "url": "http://lorempixel.com/640/480/city",
    "alt": "Description of the image"
  }
}
```

XML:

```xml
<Figure size="custom" width="500" url="http://lorempixel.com/640/480/city" alt="Description of the image" />
```

OboHTML:

```xml
<img src="http://lorempixel.com/640/480/city" width="500" alt="Description of the image">
```

Note that the `size="custom"` is not required above. Specifying `width` and/or `height` in `img` assumes that size must be `"custom"`.

--

## ObojoboDraft.Chunks.MathEquation

A LaTeX math equation rendered with [Katex](https://github.com/Khan/KaTeX)

### Content Values

* `latex` **REQUIRED**: String: The LaTeX string to render (example: `y=\sin(2x)`)
* `align`: String: Either `left`, `center` or `right` (defaults to `left` if not set).
* `label`: String: If specified adds a label to the right side of the equation, for example `"(1.1)"`
* `size`: Number (Default: `1`): The font size of the equation. `1` is the standard size, `2` is twice as big and `0.5` is half as big.

### Children

* No children

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.MathEquation",
  "id": "...",
  "content": {
    "latex": "y=sin(2x)",
    "label": "(1.1)"
  }
}
```

XML:

```xml
<MathEquation latex="y=\sin(2x)" label="(1.1)" />
```

--

## ObojoboDraft.Chunks.HTML

HTML content. It's strongly recommended not to use this node as the HTML is not parseable by the system and could break other content. However this OboNode will allow you to create content that can't be generated by the system otherwise.

### Content Values

* `html` **REQUIRED**: String: HTML to render into the document.

### Children

* No children

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.HTML",
  "id": "...",
  "content": {
    "html": "<marquee>Custom HTML Here!</marquee>"
  }
}
```

XML:

```xml
<HTML html="<marquee>Custom HTML Here!</marquee>" />
```

--

## ObojoboDraft.Chunks.Table

A table with an optional header row.

### Content Values

* `header`: Boolean: If `true` then the first row of this table will be presented as a header row. Will default to `false` if not set.
* `textGroup` **REQUIRED**: GridTextGroup: An object containing three properties: **numRows**, **numCols** and **textGroup**.
  * `numRows` **REQUIRED**: Integer.
  * `numCols` **REQUIRED**: Integer.
  * `textGroup` **REQUIRED**: TextGroup - Expects a TextGroup of text items equal to `numRows * numCols`. The first `numCols` number text items will construct the first row of the table and so on. An example is shown below:

### Children

* No children

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.Table",
  "content": {
    "header": true,
    "textGroup": {
      "numRows": 2,
      "numCols": 2,
      "textGroup": [
        {
          "text": {
            "value": "First column heading"
          }
        },
        {
          "text": {
            "value": "Second column heading"
          }
        },
        {
          "text": {
            "value": "First column second row"
          }
        },
        {
          "text": {
            "value": "Second column second row"
          }
        }
      ]
    }
  }
}
```

This will produce a table similar to the following:

| First column heading    | Second column heading    |
| ----------------------- | ------------------------ |
| First column second row | Second column second row |

XML:

```xml
<Table numRows="2" numCols="2" header="true">
  <textGroup>
    <t>First column heading</t>
    <t>Second column heading</t>
    <t>First column second row</t>
    <t>Second column second row</t>
  </textGroup>
</Table>
```

OboHTML:

```xml
<table>
  <tr>
    <th>First column heading</th>
    <th>Second column heading</th>
  </th>
  <tr>
    <td>First column second row</td>
    <td>Second column second row</td>
  </tr>
</table>
```

--

## ObojoboDraft.Chunks.YouTube

A YouTube video

### Content Values

* `videoId`: String: The YouTube ID of the video (example: `dQw4w9WgXcQ`)

### Children

* No children

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.YouTube",
  "id": "...",
  "content": {
    "videoId": "dQw4w9WgXcQ"
  }
}
```

XML:

```xml
<YouTube videoId="dQw4w9WgXcQ">
```

--

## ObojoboDraft.Chunks.QuestionBank

* Question banks contain one or more questions or other question banks with rules to describe how to select some subset of its children.

### Content Values

* `choose`: Integer or `Infinity` (default: `Infinity`): The number of children to "choose" when selecting which children to display. All children are chosen if set to `Infinity`.
* `select`: String (default: `'sequential'`): Describes how the question bank selects children - Expected to be one of the following values:
  * `sequential`: Children will be selected in document order. If `choose` is less than the number of children then each attempt will start at the next unseen question.
  * `random`: Children will be selected randomly.
  * `random-unseen`: Children will be selected randomly. If `choose` is less than the number of children then each attempt will priortize children that were not shown previously.

### Children

* One or more of **ObojoboDraft.Chunks.QuestionBank** and/or **ObojoboDraft.Chunks.Question** nodes.

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.QuestionBank",
  "id": "...",
  "content": {
    "choose": 2,
    "select": "random"
  },
  "children": [...]
}
```

XML:

```xml
<QuestionBank choose="2" select="random">
  <!-- ... -->
</QuestionBank>
```

## ObojoboDraft.Chunks.Question

Either an assessment or practice question. Questions are designed to support multiple types of scoring but currently only multiple choice questions are implemented. A question is constructed using several different node types.

### Content Values

* `solution`: ObojoboDraft.Chunks.Page: A page containing a full-text description of the solution to the problem. If set a button will be available after the question is attempted which will reveal the solution if pressed.

### Children

1.  One or more "content type" chunk nodes (**Break**, **Code**, **Figure**, **Heading**, **List**, **MathEquation**, **Table**, **Text** and/or **YouTube**) - This is how you create the actual question
2.  An **ObojoboDraft.Chunks.MCAssessment** node - this MUST be the last child.

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.Question",
  "content": {
    "solution": {
      "type": "ObojoboDraft.Pages.Page",
      "children": [
        {
          "type": "ObojoboDraft.Chunks.Text",
          "content": {
            "textGroup": [
              {
                "text": {
                  "value": "Provide a solution here..."
                }
              }
            ]
          }
        }
      ]
    }
  },
  "children": [
    {
      "type": "ObojoboDraft.Chunks.Text",
      "content": {
        "textGroup": [
          {
            "text": {
              "value": "What is 2+2?"
            }
          }
        ]
      }
    },
    {
      "type": "ObojoboDraft.Chunks.MCAssessment",
      "content": {
        "responseType": "pick-one",
        "shuffle": false
      },
      "children": [
        {
          "type": "ObojoboDraft.Chunks.MCAssessment.MCChoice",
          "content": {
            "score": 0
          },
          "children": [
            {
              "type": "ObojoboDraft.Chunks.MCAssessment.MCAnswer",
              "content": {
                "textGroup": [
                  {
                    "text": {
                      "value": "2"
                    }
                  }
                ]
              }
            },
            {
              "type": "ObojoboDraft.Chunks.MCAssessment.MCFeedback",
              "content": {
                "textGroup": [
                  {
                    "text": {
                      "value": "The correct answer is higher"
                    }
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "ObojoboDraft.Chunks.MCAssessment.MCChoice",
          "content": {
            "score": 100
          },
          "children": [
            {
              "type": "ObojoboDraft.Chunks.MCAssessment.MCAnswer",
              "content": {
                "textGroup": [
                  {
                    "text": {
                      "value": "4"
                    }
                  }
                ]
              }
            },
            {
              "type": "ObojoboDraft.Chunks.MCAssessment.MCFeedback",
              "content": {
                "textGroup": [
                  {
                    "text": {
                      "value": "Exactly!"
                    }
                  }
                ]
              }
            }
          ]
        }
      ]
    }
  ]
}
```

XML (and OboHTML):

```xml
<Question>
  <p>What is 2+2?</p>
  <MCAssessment responseType="pick-one" shuffle="false">
    <MCChoice score="0">
      <MCAnswer>
        <p>2</p>
      </MCAnswer>
      <MCFeedback>
        <p>The correct answer is higher</p>
      </MCFeedback>
    </MCChoice>
    <MCChoice score="100">
      <MCAnswer>
        <p>4</p>
      </MCAnswer>
      <MCFeedback>
        <p>Exactly!</p>
      </MCFeedback>
    </MCChoice>
  </MCAssessment>
  <solution>
    <Page>
      <p>Provide a solution here...</p>
    </Page>
  </solution>
</Question>
```

This creates a multiple-choice question where the student is asked "What is 2+2?" and must choose between and incorrect choice of "2" and the correct choice of "4". If "2" is selected they are given the feedback of "The correct answer is higher". If "4" is selected the feedback shown is simply the word "Exactly!". Optionally after answering they can click on a button to view a more in-depth explanation of the answer (provided by the `solution` page).

--

## ObojoboDraft.Chunks.MCAssessment

This is the multiple choice portion of a question containing several answer choices.

### Content Values

* `responseType`: String (Default: `'pick-one'`): Defines what type of multiple choice question this is - Must be one of the following values
  * `'pick-one'`: Student must choose the single correct answer among the other incorrect answers. Answer choices are presented as a list of radio buttons. Question prompt reads "Pick the correct answer".
  * `'pick-one-multiple-correct'`: Student must choose one correct answer but more than one correct answer may be available. Answer choices are presented as a list of radio buttons. Question prompt reads "Pick one of the correct answers".
  * `'pick-all'`: Student is able to choose multiple answers and must select each correct answer without selecting an incorrect answer. Answer choices are presented as a list of checkboxes. Question prompt reads "Pick **all** of the correct answers".
* `correctLabels`: String (Default: `'Correct!|You got it!|Great job!|That's right!'`): A `|` seperated list of labels to display when a non-assessment Question is answered correctly. One label will be selected at random. In Assessment Review this value is ignored (`'Correct!'` is always displayed instead).
* `incorrectLabels`: String (Default: `'Incorrect'`): A `|` seperated list of labels to display when a non-assessment Question is answered incorrectly. One label will be selected at random.
* `shuffle`: Boolean (Default: `true`): If `false` then the answer choices will be listed in document order. Otherwise answer choices will be shuffled.

### Children

* One or more **ObojoboDraft.Chunks.MCAssessment.MCChoice** nodes.

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.MCAssessment",
  "id": "...",
  "content": {
    "responseType": "pick-all",
    "shuffle": false
  },
  "children": [
    {
      "type": "ObojoboDraft.Chunks.MCAssessment.MCChoice",
      "id": "...",
      "content": {
        "score": 100
      },
      "children": [ ... ]
    },
    {
      "type": "ObojoboDraft.Chunks.MCAssessment.MCChoice",
      "id": "...",
      "content": {
        "score": 0
      },
      "children": [ ... ]
    }
  ]
}
```

XML:

```xml
<MCAssessment responseType="pick-all" shuffle="false">
  <MCChoice score="100">
    <!-- ... -->
  </MCChoice>
  <MCChoice score="0">
    <!-- ... -->
  </MCChoice>
</MCAssessment>
```

--

## ObojoboDraft.Chunks.MCAssessment.MCChoice

A single answer choice in a multiple choice question containing the contents of the answer and optional feedback. Feedback is not displayed in an Assessment Attempt Quiz but is displayed outside Assessment or in Assessment Review (when full Assessment Review is being shown).

### Content Values

* `score` **REQUIRED**: `0` or `100`: Represents the correctness of this answer choice - i.e. A correct answer should have a `score` of `100` and incorrect answers a `score` of `0`. A future release may allow for partial credit.

### Children

Expects one or two children in order:

1.  **REQUIRED**: An **ObojoboDraft.Chunks.MCAssessment.MCAnswer** OboNode.
2.  An **ObojoboDraft.Chunks.MCAssessment.MCFeedback** OboNode. This is not displayed in an Assessment Attempt Quiz but is displayed outside Assessment or in Assessment Review (when full Assessment Review is being shown).

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.MCAssessment.MCChoice",
  "id": "...",
  "content": {
    "score": 100
  },
  "children": [
    {
      "type": "ObojoboDraft.Chunks.MCAssessment.MCAnswer",
      "id": "...",
      "content": {
        "textGroup": [
          {
            "text": {
              "value": "Fourty two"
            }
          }
        ]
      }
    },
    {
      "type": "ObojoboDraft.Chunks.MCAssessment.MCFeedback",
      "id": "...",
      "content": {
        "textGroup": [
          {
            "text": {
              "value": "That is the answer!"
            }
          }
        ]
      }
    }
  ]
}
```

XML (with OboHTML):

```xml
<MCChoice score="100">
  <MCAnswer>
    <p>Fourty two</p>
  </MCAnswer>
  <MCFeedback>
    <p>That is the answer!</p>
  </MCFeedback>
</MCChoice>
```

--

## ObojoboDraft.Chunks.MCAssessment.MCAnswer

This represents the contents of the answer portion of a multiple choice answer choice.

### Content Values

* None

### Children

* One or more "content type" chunk nodes (**Break**, **Code**, **Figure**, **Heading**, **List**, **MathEquation**, **Table**, **Text** and/or **YouTube**).

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.MCAssessment.MCAnswer",
  "id": "...",
  "children": [
    {
      "type": "ObojoboDraft.Chunks.Text",
      "id": "...",
      "content": {
        "textGroup": [
          {
            "text": {
              "value": "Answer choice"
            }
          }
        ]
      }
    }
  ]
}
```

XML (With OboHTML):

```xml
<MCAnswer>
  <p>Answer choice</p>
</MCAnswer>
```

--

## ObojoboDraft.Chunks.MCAssessment.MCFeedback

* This represents the contents of the feedback of a multiple choice answer choice. It is fundamentally identical to an **ObojoboDraft.Chunks.MCAssessment.MCAnswer** node.

### Content Values

* None

### Children

* One or more "content type" chunk nodes (**Break**, **Code**, **Figure**, **Heading**, **List**, **MathEquation**, **Table**, **Text** and/or **YouTube**).

### Variables

* None

### Example

JSON:

```json
{
  "type": "ObojoboDraft.Chunks.MCAssessment.MCFeedback",
  "id": "...",
  "children": [
    {
      "type": "ObojoboDraft.Chunks.Text",
      "id": "...",
      "content": {
        "textGroup": [
          {
            "text": {
              "value": "Example Feedback"
            }
          }
        ]
      }
    }
  ]
}
```

XML (With OboHTML):

```xml
<MCFeedback>
  <p>Example Feedback</p>
</MCFeedback>
```

# OboHTML Reference:

The OboXML format provides a few HTML-like tags are allowed which represent different Obojobo elements. These are listed below as examples:

## Text

`<p>`

```xml
<p>Hello world</p>
```

becomes

```xml
<Text>
  <textGroup>
    <t>Hello world</t>
  </textGroup>
</Text>
```

## Heading

`<h1>`, `<h2>`, etc

```xml
<h1>Main heading</h1>
```

becomes

```xml
<Heading headingLevel="1">
  <textGroup>
    <t>Main Heading</t>
  </textGroup>
</Heading>
```

h1 and h2 elements result in headingLevel values of 1 and 2 respectively.

## List

`<ol>`, `<ul>`

```xml
<ol>
  <li>First item</li>
  <li indent="2">Second item</li>
</ol>
```

becomes

```xml
<List>
  <listStyles>
    <type>ordered</type>
  </listStyles>
  <textGroup>
    <t>First item</t>
    <t indent="2">Second item</t>
  </textGroup>
</Heading>
```

Note that unlike HTML nested lists are not supported. Use the `indent` property instead to specify nested lists.

## Code

`<pre>`

```xml
<pre>function F(x) {
  return x + G(x);
}</pre>
```

becomes

```xml
<Code>
  <textGroup>
    <t>function F(x) {</t>
    <t indent="1">return x + G(x);</t>
    <t>}</pre></t>
  </textGroup>
</Code>
```

## Break

`<hr>`

```xml
<hr />
```

becomes

```xml
<Break />
```

## Table

`<table>`

An ObojoboDraft.Chunks.Table expects an un-nested textGroup of items equal to the number of rows times the number of columns. This HTML-like `<table>` syntax provides a more friendly way to construct a table.

```xml
<table>
  <tr>
    <th>Heading 1</th>
    <th>Heading 2</th>
  </tr>
  <tr>
    <td>One</td>
    <td>Two</td>
  </tr>
</table>
```

becomes

```xml
<ObojoboDraft.Chunks.Table numRows="2" numCols="2" header="true">
  <textGroup>
    <t>Heading 1</t>
    <t>Heading 2</t>
    <t>One</t>
    <t>Two</t>
  </textGroup>
</ObojoboDraft.Chunks.Table>
```

## Figure/image with caption

`<figure>`

Figure syntax allows you to quickly create a figure with a caption. Both `<img>` and `<figcaption>` tags must be included. This XML

```xml
<figure>
  <img src="http://lorempixel.com/640/480/city" size="small" />
  <figcaption>This is a small image</figcaption>
</figure>
```

becomes

```xml
<Figure src="http://lorempixel.com/640/480/city" size="small">
  <textGroup>
    <t>This is a small image</t>
  </textGroup>
</Figure>
```

Tag order is ingnored - captions are always displayed below an image.

## Figure/image without caption

`<img>`

If you don't want to specify a caption you can simply use an `<img>` tag:

```xml
<img src="http://lorempixel.com/640/480/city" size="small" />
```

becomes

```xml
<Figure src="http://lorempixel.com/640/480/city" size="small" />
```

In both examples above the `<img>` tag may contain a `size` attribute or a `width`, `height` or both `width` and `height` attributes. If `size` is omitted then the size will be set to `custom`. For example:

```xml
<img src="http://lorempixel.com/640/480/city" width="500" />
```

becomes

```xml
<Figure src="http://lorempixel.com/640/480/city" size="custom" width="500" />
```

The complete example document at the end of this readme contains several sizing examples for images.

# Content Attribute Reference

## TextGroup

A TextGroup is a series of one or more lines of text with optional styling and additional data defined.

### TextGroup Structure

A TextGroup is an array of one or more **TextItem** objects each containing two properties: **text** and **data**:

* `text` **REQUIRED**: A **StyleableText** object
* `data`: Object: An object containing one or more properties. Currently only `indent` is understood. If specified this sets the indentation level of the text item if the chunk type supports indentation (`"indent": 1` inserts one tab before the text item, `"indent": 2` inserts two tabs and so on).

### StyleableText

A **StyleableText** object contains two properties: **value** and **styleList**:

* `value` **REQUIRED**: String: The string of text to display.
* `styleList`: A **StyleList** object

### StyleList

A **StyleList** is an array of one or more **StyleListItem** objects containing four properties: **type**, **start**, **end** and **data**

* `type` **REQUIRED**: String: Represents what type of styling to apply, must be one of the following:
  * `b`: Bold
  * `i`: Italics
  * `del`: Strikethrough
  * `a`: Link
  * `q`: Quote
  * `sup`: Superscript / Subscript
  * `_latex`: Renders the range of text as inline LaTeX math using Katex
* `start` **REQUIRED**: The index of the first character to style
* `end` **REQUIRED**: The index of the last character to style - all characters between `start` and `end` will be styled by `type`
* `data`: Object: The expected value of this property is different depending on the value of `type`:
  * `a`: Expects an object with an `href` property set to a String of the URL to link to.
  * `sup`: Expects an integer representing the number of levels to superscript or subscript (1 meaning one level of superscript, 2 meaning two levels, -1 meaning one level of subscript and so on)
  * All other types do not require this object

The text content of `<t>` elements can contain a strict sub-set of HTML-like elements.

### Examples

#### Minimal Example

The TextGroup for the line

> Hello World

is shown below:

```json
{
  ...
  "textGroup": [
    {
      "text": {
        "value": "Hello World"
      }
    }
  ]
}
```

And in XML:

```xml
<SomeOboNode>
  <!-- ... -->
  <textGroup>
    <t>Hello World</t>
  </textGroup>
</SomeOboNode>
```

#### Styled Example

The TextGroup for the content

> I've **seen** things you people wouldn't believe.
>
> [Attack ships](https://en.wikipedia.org/wiki/Tears_in_rain_monologue) on fire off the shoulder of _Orion_.

is shown below:

```json
{
  ...
  "textGroup": [
    {
      "text": {
        "value": "I've seen things you people wouldn't believe",
        "styleList": [
          {
            "type": "b",
            "start": 5,
            "end": 10
          }
        ]
      }
    },
    {
      "text": {
        "value": "Attack ships on fire off the shoulder of Orion",
        "styleList": [
          {
            "type": "a",
            "start": 0,
            "end": 12,
            "data": {
              "href": "https://en.wikipedia.org/wiki/Tears_in_rain_monologue"
            }
          },
          {
            "type": "i",
            "start": 41,
            "end": 46
          }
        ]
      }
    }
  ]
}
```

And in XML:

```xml
<SomeOboNode>
  <!-- ... -->
  <textGroup>
    <t>I've <b>seen</b> things you people wouldn't believe</t>
    <t><a href="https://en.wikipedia.org/wiki/Tears_in_rain_monologue">Attack ships</a> on fire off the shoulder of <i>Orion</i></t>
  </textGroup>
</SomeOboNode>
```

`<t>` elements allow styling with a subset of HTML-like styling tags.

##### Allowed `<t>` HTML-like style tags

* `<b>`: Bold
* `<i>`: Italic
* `<latex>`: Latex math equation
* `<a href="address">`: Link
* `<sup>`: Superscript
* `<sub>`: Subscript
* `<q>`: Quote
* `<del>`: Strikethrough

#### Inline Math Example

The TextGroup for the line

> Solve for x: _10=x+5_

is shown below (The equation above renders as italic in this document but will be rendered in a LaTeX style in the Obojobo Document Viewer):

```json
{
  ...
  "textGroup": [
    {
      "text": {
        "value": "Solve for x: 10=x+5",
      },
      "styleList": [
        {
          "type": "_latex",
          "start": 13,
          "end": 19
        }
      ]
    }
  ]
}
```

In XML:

```xml
<SomeOboNode>
  <!-- ... -->
  <textGroup>
    <t>Solve for x: <latex>10=x+5</latex></t>
  </textGroup>
</SomeOboNode>
```

##### Note on escaping characters

Latex expressions such as `\sin(x)` use a backslash character. In JSON this should be written as `\\sin(x)` since the backslash needs to be escaped for the JSON to be valid. The `start` to `end` range specified in `styleList` should ignore the escaped backslash meaning you should count `\\` as a single character rather than two characters. An example of this is shown below:

```json
{
  ...
  "textGroup": [
    {
      "text": {
        "value": "Theta is \\theta and pi is \\pi.",
      },
      "styleList": [
        {
          "type": "_latex",
          "start": 9,
          "end": 15
        },
        {
          "type": "_latex",
          "start": 26,
          "end": 29
        }
      ]
    }
  ]
}
```

#### Note on multiple styles

Style ranges can overlap or be contained within one another to create text such as **This is bold with _italic_ text.**

### Triggers

Triggers have two properties: **type** and **actions**:

* `type` **REQUIRED**: String: This is the event that causes this trigger to run, for example `onNavEnter` meaning when the user navigates to this node.
* `actions` **REQUIRED**: Array<Action>: One or more actions to perform when this trigger is ran.

A list of all current triggers are listed below:

* `onStartAttempt` - Fired when an assessment attempt is started
* `onEndAttempt` - Fired when an assessment attempt is submitted
* `onNavEnter` - Fired when a node is navigated to
* `onNavExit` - Fired when a node is navigated away from
* `onClick` (Used by **ObojoboDraft.Chunks.ActionButton**) - Fired when the ActionButton button is clicked

### Actions

Actions have two properties: **type** and **value**:

* `type` **REQUIRED**: String: The type of action. The meaning of these values are defined in the system.
* `value`: Object: An object that can send one or more values along with the action event. The system can then use these values as desired. An example is shown below:

```json
{
  "type": "nav:goto",
  "value": {
    "id": "page-1"
  }
}
```

When ran this would navigate the user to the node with an id of `page-1`.

A list of actions to fire and their corresponding expected values are listed below:

* `nav:goto` - Navigate a user to a node. `value` should be an object with an `id` property set to the id of the node to navigate to.
* `nav:prev` - Navigate the user back one.
* `nav:next` - Navigate the user forward one.
* `nav:openExternalLink` - Navigate a user to an external webpage. `value` should be an object with an `url` property set to the URL to navigate to.
* `nav:lock` - Locks navigation.
* `nav:unlock` - Unlocks navigation.
* `nav:open` - Opens the left-hand navigation drawer.
* `nav:close` - Closes the left-hand navigation drawer.
* `nav:toggle` - Toggles open or close the navigation drawer.
* `assessment:startAttempt` - Begins an assessment attempt. `value` should be an object with an `id` property set to the id of the **ObojoboDraft.Sections.Assessment** node containing the assessment to start.
* `assessment:endAttempt` - Ends an assessment attempt. `value` should be an object with an `id` property set to the id of the **ObojoboDraft.Sections.Assessment** node containing the assessment to start.
* `js` - Runs arbitrary javascript. `value` should be a string of javascript code to execute.
